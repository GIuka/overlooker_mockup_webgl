<!DOCTYPE html>
<html lang="">

<head>
  <title>Overlooker</title>
  <link href="style.css" rel="stylesheet" type="text/css"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta charset="utf-8">
  <script src="libraries/twgl.min.js"></script>
  <script src="libraries/p5.min.js"></script>
</head>

<body>
  <canvas id="cgl">
    <script id="vs" type="notjs">    
  #ifdef GL_ES
  precision mediump float;
  #endif  
  attribute vec4 a_position;
  attribute vec2 a_texcoord;

  varying vec2 v_texCoord;
  
  void main() {
    v_texCoord = a_texcoord;
    gl_Position = a_position;
  }
      </script>
    <script id="fs" type="notjs">
  #ifdef GL_ES
  precision mediump float;
  #endif
  
  uniform vec2 u_resolution;
  uniform vec2 u_mouse;
  uniform float u_time;
  uniform vec3 u_gridparams;
  uniform vec4 u_background;
  uniform sampler2D u_texture;

  varying vec2 v_texCoord;
  float aa_factor = 0.5 * (u_gridparams.y / u_resolution.y);

  float circle(in vec2 _st) { 
    float l = length(_st.xy - 0.5);
    //aa_factor = 0.001;
    return smoothstep(0.5 + aa_factor, 0.5 - aa_factor, l);
  }
  
  void main() {
      vec2 st = gl_FragCoord.xy / u_resolution.xy;
      vec4 tex_color = texture2D(u_texture, v_texCoord);
  
      st.x *= u_gridparams.x;
      st.y *= u_gridparams.y;
      st = fract(st);

      gl_FragColor = mix(tex_color, u_background, 1.0 - circle(st));
      //gl_FragColor = tex_color;
  }
      </script>
  </canvas>
</body>
<script src="call_center_mockup.js"></script>
</html>
